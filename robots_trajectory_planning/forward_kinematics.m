function [ LF,RF,LB,RB ] = forward_kinematics( angle)
%UNTITLED Summary of this function goes here
%   Detailed explanation goes here

global F_Leg_Length B_Leg_Length Body_Par
% F_Leg_Length = [1.4, 27.5, 23];
% B_Leg_Length = [1.4, 29,   28];
% Body_Par = [ 26.8534, 13.5, -6.5;...
%                     26.8534, -13.5, -6.5;...
%                     -25.6466, 16.5,  0;...
%                     -25.6466,-16.5, 0];
angle(:,1) = -1 .* angle(:,1);
LF = [Body_Par(1,1) + F_Leg_Length(2) * sin(angle(1,2)) + F_Leg_Length(3) * sin(angle(1,2) + angle(1,3)),...
    Body_Par(1,2) + F_Leg_Length(1) * sin(angle(1,1)) + F_Leg_Length(2) * sin(angle(1,1)) *cos(angle(1,2)) + F_Leg_Length(3) * sin(angle(1,1)) * cos(angle(1,2) + angle(1,3)),...
    Body_Par(1,3)  - F_Leg_Length(1) * cos(angle(1,1)) - F_Leg_Length(2) * cos(angle(1,1)) *cos(angle(1,2)) - F_Leg_Length(3) * cos(angle(1,1)) * cos(angle(1,2) + angle(1,3)) ];

RF = [Body_Par(2,1) + F_Leg_Length(2) * sin(angle(2,2)) + F_Leg_Length(3) * sin(angle(2,2) + angle(2,3)),...
    Body_Par(2,2) + F_Leg_Length(1) * sin(angle(2,1)) + F_Leg_Length(2) * sin(angle(2,1)) *cos(angle(2,2)) + F_Leg_Length(3) * sin(angle(2,1)) * cos(angle(2,2) + angle(2,3)),...
    Body_Par(2,3)  - F_Leg_Length(1) * cos(angle(2,1)) - F_Leg_Length(2) * cos(angle(2,1)) *cos(angle(2,2)) - F_Leg_Length(3) * cos(angle(2,1)) * cos(angle(2,2) + angle(2,3)) ];

LB = [Body_Par(3,1) + B_Leg_Length(2) * sin(angle(3,2)) + B_Leg_Length(3) * sin(angle(3,2) + angle(3,3)),...
    Body_Par(3,2) + B_Leg_Length(1) * sin(angle(3,1)) + B_Leg_Length(2) * sin(angle(3,1)) *cos(angle(3,2)) + B_Leg_Length(3) * sin(angle(3,1)) * cos(angle(3,2) + angle(3,3)),...
    Body_Par(3,3)  - B_Leg_Length(1) * cos(angle(3,1)) - B_Leg_Length(2) * cos(angle(3,1)) *cos(angle(3,2)) - B_Leg_Length(3) * cos(angle(3,1)) * cos(angle(3,2) + angle(3,3)) ];

RB = [Body_Par(4,1) + B_Leg_Length(2) * sin(angle(4,2)) + B_Leg_Length(3) * sin(angle(4,2) + angle(4,3)),...
    Body_Par(4,2) + B_Leg_Length(1) * sin(angle(4,1)) + B_Leg_Length(2) * sin(angle(4,1)) *cos(angle(4,2)) + B_Leg_Length(3) * sin(angle(4,1)) * cos(angle(4,2) + angle(4,3)),...
    Body_Par(4,3)  - B_Leg_Length(1) * cos(angle(4,1)) - B_Leg_Length(2) * cos(angle(4,1)) *cos(angle(4,2)) - B_Leg_Length(3) * cos(angle(4,1)) * cos(angle(4,2) + angle(4,3)) ];

end

